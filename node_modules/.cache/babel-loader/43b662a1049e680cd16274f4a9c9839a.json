{"ast":null,"code":"import _classCallCheck from \"/Users/pj/Desktop/jianshureact/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pj/Desktop/jianshureact/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pj/Desktop/jianshureact/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pj/Desktop/jianshureact/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pj/Desktop/jianshureact/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pj/Desktop/jianshureact/src/page/home/index.js\";\nimport React, { Component } from 'react';\nimport { HomeWrap, HomeLeft, HomeRight, LeftBr, LoadMore, ToTop } from './style';\nimport { connect } from 'react-redux';\nimport LeftBanner from './component/LeftBanner';\nimport LeftContent from './component/LeftContent';\nimport LeftRecommend from './component/LeftRecommend';\nimport { actionCreators } from './store';\nimport RightHeader from './component/RightHeader';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      top: true\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          LoadMoreData = _this$props.LoadMoreData,\n          page = _this$props.page;\n      return React.createElement(HomeWrap, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(HomeLeft, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(LeftBanner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }), React.createElement(LeftRecommend, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }), React.createElement(LeftBr, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(LeftContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }), React.createElement(LoadMore, {\n        onClick: function onClick() {\n          return LoadMoreData(page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"\\u66F4\\u591A\\u5185\\u5BB9\")), React.createElement(HomeRight, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(RightHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      })), this.state.top ? React.createElement(ToTop, {\n        onClick: this.ToTop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"\\u9876\\u90E8\") : null);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getHomeData();\n      this.bindEvents();\n    }\n  }, {\n    key: \"ToTop\",\n    value: function ToTop() {\n      window.scrollTo(0, 0);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      window.addEventListener('scrool', this.props.changeScroolTopShow);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scrool', this.props.changeScroolTopShow);\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nvar mapState = function mapState(state) {\n  return {\n    page: state.getIn(['home', 'page']),\n    scroolTop: state.get(['home', 'scroolTop'])\n  };\n};\n\nvar MapDispatch = function MapDispatch(dispatch) {\n  return {\n    getHomeData: function getHomeData() {\n      dispatch(actionCreators.getList());\n    },\n    LoadMoreData: function LoadMoreData(page) {\n      dispatch(actionCreators.LoadMoreData(page));\n    },\n    changeScroolTopShow: function changeScroolTopShow() {\n      if (document.documentElement.scrollTop > 100) {\n        dispatch(actionCreators.ScroolToTop(true));\n      } else {\n        dispatch(actionCreators.ScroolToTop(false));\n      }\n    }\n  };\n};\n\nexport default connect(mapState, MapDispatch)(Home);","map":{"version":3,"sources":["/Users/pj/Desktop/jianshureact/src/page/home/index.js"],"names":["React","Component","HomeWrap","HomeLeft","HomeRight","LeftBr","LoadMore","ToTop","connect","LeftBanner","LeftContent","LeftRecommend","actionCreators","RightHeader","Home","props","state","top","LoadMoreData","page","getHomeData","bindEvents","window","scrollTo","addEventListener","changeScroolTopShow","removeEventListener","mapState","getIn","scroolTop","get","MapDispatch","dispatch","getList","document","documentElement","scrollTop","ScroolToTop"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\nimport {\n    HomeWrap,\n    HomeLeft,\n    HomeRight,\n    LeftBr,\n    LoadMore,\n    ToTop\n} from './style';\nimport {connect} from 'react-redux'\nimport LeftBanner from './component/LeftBanner';\nimport LeftContent from './component/LeftContent';\nimport LeftRecommend from './component/LeftRecommend';\nimport { actionCreators } from './store';\nimport RightHeader from './component/RightHeader'\nclass Home extends Component {\n    constructor (props){\n        super(props)\n        this.state = {\n            top:true\n        }\n    }\n    render () {\n        const {LoadMoreData,page} = this.props\n        return(\n            <HomeWrap>\n                <HomeLeft>\n                    <LeftBanner/>\n                    <LeftRecommend/>\n                    <LeftBr/>\n                    <LeftContent/>\n                    <LoadMore onClick={() => (LoadMoreData(page))}>更多内容</LoadMore>\n                </HomeLeft>\n                <HomeRight><RightHeader/></HomeRight>\n                { this.state.top ? <ToTop onClick={this.ToTop}>顶部</ToTop> : null}\n            </HomeWrap>\n        )\n    }\n    componentDidMount () {\n        this.props.getHomeData();\n        this.bindEvents()\n    }\n    ToTop () {\n        window.scrollTo(0,0)\n    }\n    bindEvents () {\n        window.addEventListener('scrool',this.props.changeScroolTopShow)\n    }\n    componentWillUnmount () {\n        window.removeEventListener('scrool',this.props.changeScroolTopShow)\n    }\n}\nconst mapState = (state) => ({\n    page:state.getIn(['home','page']),\n    scroolTop:state.get(['home','scroolTop'])\n})\nconst MapDispatch = (dispatch) => ({\n    getHomeData() {\n        dispatch(actionCreators.getList())\n    },\n    LoadMoreData (page){\n        dispatch(actionCreators.LoadMoreData(page))\n    },\n    changeScroolTopShow () {\n       if (document.documentElement.scrollTop > 100) {\n            dispatch(actionCreators.ScroolToTop(true))\n       }else{\n           dispatch(actionCreators.ScroolToTop(false))\n       }\n    }\n })\nexport default connect(mapState,MapDispatch)( Home);"]},"metadata":{},"sourceType":"module"}